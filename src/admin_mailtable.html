User <?= user ?> has <?= emails.getSize() ?> mails.<br>
It is now <?= new Date().toUTCString() ?>.<br>
<table border="1" cellpadding="1" cellspacing="1">
  <tr>
    <th>#</th>
    <th>Message ID</th>
    <th>Scheduled</th>
    <th>For</th>
    <th>With version</th>
    <th>Actions</th>
    <th>Processed</th>
    <th>Admin</th>
  <tr>
  <? 
      var i = 1;
      while (emails.hasNext()) {
      var email = emails.next()
  ?>
    <tr>
      <td><?= i++ ?></td>
      <td><a href="https://mail.google.com/mail?account_id=<?!= encodeURIComponent(user) ?>&amp;message_id=<?= email.messageId ?>&amp;view=conv&amp;extsrc=atom"><?= email.messageId ?></a></td>
      <td><?= new Date(email.scheduled).toUTCString() ?></td>
      <td><?= new Date(email.when).toUTCString() ?></td>
      <td><?= email.version ?></td>
      <td>
        <ul>
          <? for(var action in email.how) {
              if(email.how[action]) {
           ?>
           <li><?= action ?></li>
          <?} } ?>
        </ul>
      </td>
      <td>
        <? if(email.processed && !isNaN(email.processed)) { ?>
            <?= new Date(email.processed).toUTCString() ?>
        <?  } else { ?>
            <?= email.processed ?>
        <?  } ?>
      </td>
      <td><a href="<?= baseUrl ?>?action=remove&amp;id=<?= email.getId() ?>" target="_blank">delete</a></td>
    </tr>
  <? } ?>
</table>